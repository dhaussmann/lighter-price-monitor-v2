name = "lighter-price-monitor-v2"
main = "src/index.ts"
compatibility_date = "2024-12-15"

# Durable Objects - Multi-DO Architecture
[[durable_objects.bindings]]
name = "LIGHTER_TRACKER"
class_name = "LighterTracker"

[[durable_objects.bindings]]
name = "PARADEX_TRACKER"
class_name = "ParadexTracker"

[[durable_objects.bindings]]
name = "CLEANUP_MANAGER"
class_name = "CleanupManager"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "orderbook-data"
database_id = "9bc40b46-ad84-4722-a63c-a4de36edc246"

# Migrationen
[[migrations]]
tag = "v3"
new_classes = ["LighterTracker", "ParadexTracker", "CleanupManager"]
deleted_classes = ["OrderbookTracker"]
